<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

	<select id="selectByEmail" resultType="com.slacks.vo.UserVO">
        <![CDATA[
          SELECT
              *
          FROM
              users
          WHERE
              email = #{email}
      ]]>
	</select>

	<select id="selectByEmailFind" resultType="com.slacks.vo.UserVO">
        <![CDATA[
          SELECT
              email
          FROM
              users
          WHERE
              email = #{email}
      ]]>
	</select>
	
	<select id="findDirectory">
		<![CDATA[
			SELECT
				path
			FROM
				files
			WHERE
				#
		]]>
	</select>

	<insert id="register">
        <![CDATA[
            INSERT INTO users
            (
            	serial,
                email,
                name,
                password
            )
            VALUES
            (
            	#{serial},
                #{email},
                #{name},
                #{password}
            )
        ]]>
	</insert>

	<update id="changePassword">
		<![CDATA[
			UPDATE
				users
			SET
				password=#{password}
			WHERE 
				email=#{email}
		]]>
	</update>
</mapper>